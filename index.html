<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Portfolio Viewer</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- Controls -->
  <div class="controls">
    <button id="prevBtn">âŸ¨ Prev</button>
    <button id="zoomOut">âˆ’</button>
    <span id="zoomValue">100%</span>
    <button id="zoomIn">ï¼‹</button>
    <button id="nextBtn">Next âŸ©</button>
  </div>

  <!-- PDF Download -->
  <div class="download-link">
    <a href="portfolio_print.pdf" download>ðŸ“„ Download CMYK PDF version</a>
  </div>

  <!-- Viewer Container -->
  <div class="viewer" id="viewer"></div>

  <script>
    const viewer = document.getElementById("viewer");
    const zoomValue = document.getElementById("zoomValue");
    const zoomIn = document.getElementById("zoomIn");
    const zoomOut = document.getElementById("zoomOut");
    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");

    const totalPages = 70;
    let currentIndex = 0;
    let currentZoom = 100;

    function createPageElement(num) {
      const img = document.createElement("img");
      const padded = num.toString().padStart(2, '0');
      img.src = `svgs/Portfolio-${padded}.svg`;
      img.alt = `Page ${num}`;
      img.className = "page";
      img.style.transform = `scale(${currentZoom / 100})`;
      return img;
    }

    function renderPages() {
      viewer.innerHTML = '';
      const isFirst = currentIndex === 0;

      if (isFirst) {
        const right = createPageElement(1);
        const placeholder = document.createElement("div");
        placeholder.className = "page placeholder";
        viewer.appendChild(placeholder);
        viewer.appendChild(right);
      } else {
        const leftNum = currentIndex;
        const rightNum = currentIndex + 1;
        if (leftNum <= totalPages) viewer.appendChild(createPageElement(leftNum));
        if (rightNum <= totalPages) viewer.appendChild(createPageElement(rightNum));
      }
    }

    function updateZoom(val) {
      currentZoom = val;
      zoomValue.textContent = `${val}%`;
      document.querySelectorAll(".page").forEach(p => {
        p.style.transform = `scale(${val / 100})`;
      });
    }

    zoomIn.onclick = () => {
      if (currentZoom < 150) updateZoom(currentZoom + 10);
    };

    zoomOut.onclick = () => {
      if (currentZoom > 50) updateZoom(currentZoom - 10);
    };

    prevBtn.onclick = () => {
      if (currentIndex > 0) {
        currentIndex = currentIndex === 1 ? 0 : currentIndex - 2;
        renderPages();
        updateZoom(currentZoom);
      }
    };

    nextBtn.onclick = () => {
      if (currentIndex === 0) {
        currentIndex = 2;
      } else if (currentIndex + 2 <= totalPages) {
        currentIndex += 2;
      }
      renderPages();
      updateZoom(currentZoom);
    };

    // Initial
    renderPages();
    updateZoom(currentZoom);
  </script>

</body>
</html>

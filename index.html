<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Portfolio Viewer</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <div class="controls">
    <button id="prevBtn">← Previous</button>
    <button id="zoomOutBtn">−</button>
    <span id="zoomValue">100%</span>
    <button id="zoomInBtn">+</button>
    <button id="nextBtn">Next →</button>
    <a id="pdfDownload" href="portfolio_print.pdf" download>Download PDF</a>
  </div>

  <div class="portfolio-container" id="portfolioContainer"></div>
  <div class="page-indicator" id="pageIndicator"></div>

  <script>
    const container = document.getElementById("portfolioContainer");
    const zoomValue = document.getElementById("zoomValue");
    const pageIndicator = document.getElementById("pageIndicator");
    let currentIndex = 0;
    let zoomLevel = 1.0;
    const totalPages = 70;

    const PAGE_WIDTH = 420; // base width at 100%
    const GAP_AT_100 = 40;  // gap between pages at 100%

    function createImageElement(i) {
      const img = document.createElement("img");
      const num = (i + 1).toString().padStart(2, "0");
      img.src = `svgs/Portfolio-${num}.svg`;
      img.alt = `Portfolio Page ${i + 1}`;
      img.className = "portfolio-page";
      img.style.width = `${PAGE_WIDTH * zoomLevel}px`;
      return img;
    }

    function renderPages() {
      container.innerHTML = "";

      const gap = GAP_AT_100 * zoomLevel;
      container.style.gap = `${gap}px`;

      const pages = [];

      if (currentIndex === 0) {
        const firstPage = createImageElement(0);
        const placeholder = document.createElement("div");
        placeholder.style.width = `${PAGE_WIDTH * zoomLevel}px`;
        placeholder.className = "portfolio-page empty";
        pages.push(placeholder, firstPage);
        pageIndicator.textContent = `Page 1`;
      } else {
        const left = currentIndex;
        const right = currentIndex + 1;

        if (left < totalPages) pages.push(createImageElement(left));
        if (right < totalPages) pages.push(createImageElement(right));

        pageIndicator.textContent = `Pages ${left + 1}–${Math.min(right + 1, totalPages)}`;
      }

      pages.forEach(p => container.appendChild(p));
    }

    document.getElementById("prevBtn").addEventListener("click", () => {
      if (currentIndex === 0) return;
      currentIndex = Math.max(0, currentIndex - 2);
      renderPages();
    });

    document.getElementById("nextBtn").addEventListener("click", () => {
      if (currentIndex === 0) currentIndex = 1;
      else currentIndex = Math.min(totalPages - 1, currentIndex + 2);
      renderPages();
    });

    document.getElementById("zoomInBtn").addEventListener("click", () => {
      zoomLevel = Math.min(2.0, zoomLevel + 0.1);
      updateZoom();
    });

    document.getElementById("zoomOutBtn").addEventListener("click", () => {
      zoomLevel = Math.max(0.5, zoomLevel - 0.1);
      updateZoom();
    });

    function updateZoom() {
      zoomValue.textContent = `${Math.round(zoomLevel * 100)}%`;
      renderPages();
    }

    renderPages();
  </script>

</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Portfolio Viewer</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <div class="top-bar">
    <div class="zoom-controls">
      <button id="zoomOut">−</button>
      <span id="zoomValue">100%</span>
      <button id="zoomIn">＋</button>
    </div>
    <div class="nav-controls">
      <button id="prevBtn">← Previous</button>
      <button id="nextBtn">Next →</button>
    </div>
    <div class="pdf-download">
      <a href="portfolio_print.pdf" download>📄 Download CMYK PDF</a>
    </div>
  </div>

  <div class="spread-container" id="spreadContainer"></div>

  <script>
    const totalPages = 70;
    let currentPage = 1;
    let zoom = 1;

    const spreadContainer = document.getElementById("spreadContainer");
    const zoomValue = document.getElementById("zoomValue");

    function renderPages() {
      spreadContainer.innerHTML = "";

      const createPage = (num) => {
        const img = document.createElement("img");
        const pageNum = num.toString().padStart(2, '0');
        img.src = `svgs/Portfolio-${pageNum}.svg`;
        img.alt = `Page ${num}`;
        img.className = "portfolio-page";
        img.style.transform = `scale(${zoom})`;
        return img;
      };

      if (currentPage === 1) {
        const page = createPage(1);
        const wrapper = document.createElement("div");
        wrapper.className = "single-page";
        wrapper.appendChild(page);
        spreadContainer.appendChild(wrapper);
      } else {
        const left = createPage(currentPage);
        const right = currentPage + 1 <= totalPages ? createPage(currentPage + 1) : null;

        const wrapper = document.createElement("div");
        wrapper.className = "spread";
        wrapper.appendChild(left);
        if (right) wrapper.appendChild(right);
        spreadContainer.appendChild(wrapper);
      }

      zoomValue.textContent = `${Math.round(zoom * 100)}%`;
    }

    document.getElementById("zoomIn").addEventListener("click", () => {
      zoom = Math.min(zoom + 0.1, 2);
      renderPages();
    });

    document.getElementById("zoomOut").addEventListener("click", () => {
      zoom = Math.max(zoom - 0.1, 0.5);
      renderPages();
    });

    document.getElementById("prevBtn").addEventListener("click", () => {
      if (currentPage === 1) return;
      currentPage = Math.max(currentPage - 2, 1);
      renderPages();
    });

    document.getElementById("nextBtn").addEventListener("click", () => {
      if (currentPage === 1) currentPage = 2;
      else currentPage = Math.min(currentPage + 2, totalPages - (totalPages % 2 === 0 ? 1 : 0));
      renderPages();
    });

    renderPages();
  </script>

</body>
</html>
